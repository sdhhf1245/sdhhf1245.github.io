"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{1514:function(e,t,r){r.r(t),r.d(t,{default:function(){return o}});var a=r(7437),s=r(2265),l=r(3872),n=r(1942);function i(){let[e,t]=(0,s.useState)(new Date().toLocaleTimeString("en-GB"));return(0,s.useEffect)(()=>{let e=setInterval(()=>t(new Date().toLocaleTimeString("en-GB")),1e3);return()=>clearInterval(e)},[]),(0,a.jsxs)("h1",{className:"text-2xl font-semibold tracking-tighter flex items-center gap-2",children:[(0,a.jsx)(n.qyc,{}),e]})}let d=e=>{let t=Math.floor(e/1e3);return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"))};function o(){var e,t,r,n,o,c,m;let u=(0,s.useRef)(null),x=(0,s.useRef)(null),[v,g]=(0,s.useState)(null),[p,h]=(0,s.useState)(Date.now());(0,s.useEffect)(()=>{let e=setInterval(()=>{h(Date.now())},1e3);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{let e=new WebSocket("wss://api.lanyard.rest/socket");return u.current=e,e.onopen=()=>{console.log("connected to lanyard!")},e.onmessage=t=>{let r=JSON.parse(t.data);if(1===r.op){let t=r.d.heartbeat_interval;e.send(JSON.stringify({op:2,d:{subscribe_to_id:"1059614915456938084"}})),x.current=setInterval(()=>{e.send(JSON.stringify({op:3}))},t)}g(r)},e.onerror=e=>{console.error("lanyard error:",e)},e.onclose=()=>{console.log("disconnected from lanyard"),x.current&&clearInterval(x.current)},()=>{e.close(),x.current&&clearInterval(x.current)}},[]);let f=null==v?void 0:null===(e=v.d.activities)||void 0===e?void 0:e.find(e=>"Feishin"===e.name),b=null==v?void 0:null===(t=v.d.activities)||void 0===t?void 0:t.find(e=>"Finamp"===e.name),j=(null==f?void 0:null===(r=f.assets)||void 0===r?void 0:r.small_text)==="playing"?f:b||null;return(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full min-w-96 max-w-2xl",children:[(0,a.jsxs)("section",{className:"relative z-10 w-full p-5 mb-4 tracking-tight bg-[var(--background-100)]/20 backdrop-blur-[6px] border border-[var(--primary-200)] rounded-xl text-[var(--text-900)] hover:border-[var(--primary-300)] transition-all duration-300 hover:shadow-lg hover:scale-105 ",children:[(0,a.jsxs)("h1",{className:"text-2xl font-semibold tracking-tighter flex items-center align-middle gap-2",children:[(0,a.jsx)(l.j2d,{}),"Discord"]}),(0,a.jsx)("div",{className:"my-4 h-px w-full bg-gradient-to-r from-transparent via-[var(--primary-300)] to-transparent"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:"https://dcdn.dstn.to/avatars/1059614915456938084.png",alt:"User Avatar",className:"w-12 h-12 rounded-full object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-bold flex items-center gap-2",children:[v?null===(n=v.d.discord_user)||void 0===n?void 0:n.username:"...",(0,a.jsx)("span",{className:"w-2 h-2 rounded-full inline-block animate-ping ".concat((null==v?void 0:null===(o=v.d)||void 0===o?void 0:o.discord_status)==="online"?"bg-green-400":(null==v?void 0:null===(c=v.d)||void 0===c?void 0:c.discord_status)==="idle"?"bg-yellow-400":(null==v?void 0:null===(m=v.d)||void 0===m?void 0:m.discord_status)==="dnd"?"bg-red-400":"bg-gray-400")})]}),j&&(0,a.jsxs)("p",{className:"font-semibold text-[12px] text-[var(--secondary-400)] tracking-tighter flex items-center gap-1",children:[(0,a.jsx)(l.HcQ,{className:"text-[12px] align-middle"}),"Listening to Music"]})]})]})]}),(0,a.jsxs)("section",{className:"relative z-10 w-full p-6 tracking-tight bg-[var(--background-100)]/20 backdrop-blur-[6px] border border-[var(--primary-200)] rounded-xl text-[var(--text-900)] hover:border-[var(--primary-300)] transition-all duration-300 hover:shadow-lg hover:scale-105",children:[(0,a.jsxs)("h1",{className:"text-2xl font-semibold tracking-tighter flex items-center align-middle gap-2",children:[(0,a.jsx)(l.uoU,{}),"Music"]}),(0,a.jsx)("div",{className:"my-4 h-px w-full bg-gradient-to-r from-transparent via-[var(--primary-300)] to-transparent"}),j?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:"https://media.discordapp.net/".concat(j.assets.large_image.replace("mp:","")),alt:"Album Art",className:"w-20 h-20 rounded-md object-cover"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-bold text-xl truncate",children:j.details}),(0,a.jsx)("p",{className:"font-semibold text-[12px] text-[var(--secondary-400)] tracking-tighter flex items-center gap-1 truncate",children:j.state}),j.timestamps&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-[var(--secondary-400)] mb-1",children:[(0,a.jsx)("span",{children:d(p-j.timestamps.start)}),(0,a.jsx)("span",{children:d(j.timestamps.end-j.timestamps.start)})]}),(0,a.jsx)("div",{className:"w-full bg-[var(--secondary-700)] rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-[var(--accent-500)] h-1.5 rounded-full transition-all duration-1000",style:{width:"".concat(Math.min(100,(p-j.timestamps.start)/(j.timestamps.end-j.timestamps.start)*100),"%")}})})]})]})]})}):(0,a.jsxs)("p",{className:"text-sm font-semibold tracking-tighter flex items-center gap-2 leading-tight",children:[(0,a.jsx)("span",{className:"flex items-center justify-center text-base",children:(0,a.jsx)(l.gbm,{})}),"Not listening to anything!"]})]}),(0,a.jsx)("section",{className:"relative z-10 w-full p-5 mt-4 mb-4 tracking-tight bg-[var(--background-100)]/20 backdrop-blur-[6px] border border-[var(--primary-200)] rounded-xl text-[var(--text-900)] hover:border-[var(--primary-300)] transition-all duration-300 hover:shadow-lg hover:scale-105 ",children:(0,a.jsx)(i,{})})]})}}}]);